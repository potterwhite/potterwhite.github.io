<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>CMake on 嵌入式系统爱好者</title>
    <link>https://potterwhite.github.io/categories/cmake/</link>
    <description>Recent content in CMake on 嵌入式系统爱好者</description>
    <generator>Hugo</generator>
    <language>zh-cn</language>
    <lastBuildDate>Thu, 18 Jul 2024 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://potterwhite.github.io/categories/cmake/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>CMake Key Points in Qt6</title>
      <link>https://potterwhite.github.io/blog/2024/07/18/cmake-key-points-in-qt6/</link>
      <pubDate>Thu, 18 Jul 2024 00:00:00 +0000</pubDate>
      <guid>https://potterwhite.github.io/blog/2024/07/18/cmake-key-points-in-qt6/</guid>
      <description>&lt;details&gt;&#xD;&#xA;    &lt;summary&gt;&lt;strong&gt;&#xD;&#xA;    001. &lt;/br&gt;find_package(QT NAMES Qt6 Qt5 REQUIRED COMPONENTS Core Widgets)&lt;/br&gt;&#xD;&#xA;    find_package(Qt${QT_VERSION_MAJOR} REQUIRED COMPONENTS Core Widgets) Usages&lt;strong&gt;&lt;/summary&gt;&#xD;&#xA;&lt;div style=&#34;padding-left: 2em;&#34;&gt;&#xD;&#xA;&lt;p&gt;&lt;code&gt;find_package(QT NAMES Qt6 Qt5 REQUIRED COMPONENTS Core)&lt;/code&gt;：&lt;/p&gt;&#xA;&lt;p&gt;这行代码试图找到名为 Qt6 或 Qt5 的 Qt 版本，并且要求找到其中的 Core 组件。&#xA;如果系统上安装了 Qt6，这行代码会找到 Qt6；如果没有找到 Qt6，会尝试找到 Qt5。&lt;/p&gt;&#xA;&lt;p&gt;&lt;code&gt;find_package(Qt${QT_VERSION_MAJOR} REQUIRED COMPONENTS Core)&lt;/code&gt;：&lt;/p&gt;&#xA;&lt;p&gt;这行代码利用第一个 find_package 结果中设置的 QT_VERSION_MAJOR 变量来找到具体的 Qt 版本及其 Core 组件。&lt;/p&gt;&#xA;&lt;/div&gt;&#xD;&#xA;&lt;/details&gt;&#xD;&#xA;&lt;h4 id=&#34;cmake-minimum-required-version-3-14&#34;&gt;&lt;code&gt;cmake_minimum_required(VERSION 3.14)&lt;/code&gt;&lt;/h4&gt;&#xA;&lt;h4 id=&#34;project-libdiytoolswrapper-languages-cxx&#34;&gt;&lt;code&gt;project(LibDiyToolsWrapper LANGUAGES CXX)&lt;/code&gt;&lt;/h4&gt;&#xA;&lt;h4 id=&#34;set-cmake-autouic-on&#34;&gt;&lt;code&gt;set(CMAKE_AUTOUIC ON)&lt;/code&gt;&lt;/h4&gt;&#xA;&lt;h4 id=&#34;set-cmake-cxx-standard-17&#34;&gt;&lt;code&gt;set(CMAKE_CXX_STANDARD 17)&lt;/code&gt;&lt;/h4&gt;&#xA;&lt;h4 id=&#34;set-cmake-cxx-standard-required-on&#34;&gt;&lt;code&gt;set(CMAKE_CXX_STANDARD_REQUIRED ON)&lt;/code&gt;&lt;/h4&gt;&#xA;&lt;h4 id=&#34;add-library-libdiytoolswrapper-shared-libdiytoolswrapper-global-h&#34;&gt;&lt;code&gt;add_library( LibDiyToolsWrapper SHARED  LibDiyToolsWrapper_global.h  )&lt;/code&gt;&lt;/h4&gt;&#xA;&lt;h4 id=&#34;include-directories-inc&#34;&gt;&lt;code&gt;include_directories( .. ../inc )&lt;/code&gt;&lt;/h4&gt;&#xA;&lt;h4 id=&#34;target-link-libraries-libdiytoolswrapper-private-qt-qt-version-major-widgets&#34;&gt;&lt;code&gt;target_link_libraries( LibDiyToolsWrapper PRIVATE Qt${QT_VERSION_MAJOR}::Widgets )&lt;/code&gt;&lt;/h4&gt;&#xA;&lt;h4 id=&#34;target-compile-definitions-libdiytoolswrapper-private-libdiytoolswrapper-library&#34;&gt;&lt;code&gt;target_compile_definitions(LibDiyToolsWrapper PRIVATE LIBDIYTOOLSWRAPPER_LIBRARY)&lt;/code&gt;&lt;/h4&gt;&#xA;&lt;h2 id=&#34;set-destination-dir-if-config-debug-cmake-binary-dir-finaldlls-debug-嵌套&#34;&gt;&lt;code&gt;set( DESTINATION_DIR $&amp;lt;IF:$&amp;lt;CONFIG:Debug&amp;gt;,${CMAKE_BINARY_DIR}/finalDLLs/Debug,) 嵌套&lt;/code&gt;&lt;/h2&gt;&#xA;&lt;div style=&#34;padding-left: 2em;&#34;&gt;&#xD;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cmake&#34; data-lang=&#34;cmake&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#204a87&#34;&gt;set&lt;/span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;(&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#4e9a06&#34;&gt;DESTINATION_DIR&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;IF:$&amp;lt;CONFIG:Debug&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;CMAKE_BINARY_DIR&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;/finalDLLs/Debug,&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#4e9a06&#34;&gt;DESTINATION_DIR&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;IF:$&amp;lt;CONFIG:Debug&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;CMAKE_BINARY_DIR&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;/finalDLLs/Release,&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#4e9a06&#34;&gt;DESTINATION_DIR&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;$&amp;lt;&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;IF:$&amp;lt;CONFIG:Debug&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;,&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;CMAKE_BINARY_DIR&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;/finalDLLs/Profile,&lt;/span&gt;    &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;CMAKE_BINARY_DIR&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;/Unknown&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000;font-weight:bold&#34;&gt;)&lt;/span&gt;&lt;span style=&#34;color:#a40000&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cmake&#34; data-lang=&#34;cmake&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a40000&#34;&gt;$&amp;lt;IF:&lt;/span&gt;               &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# 第一层开始&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a40000&#34;&gt;$&amp;lt;CONFIG:Debug&amp;gt;,${CMAKE_BINARY_DIR}/Debug,&lt;/span&gt;  &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# 第一层条件和结果&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a40000&#34;&gt;$&amp;lt;IF:&lt;/span&gt;           &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# 第二层开始&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#a40000&#34;&gt;$&amp;lt;CONFIG:Release&amp;gt;,${CMAKE_BINARY_DIR}/Release,&lt;/span&gt;  &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# 第二层条件和结果&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#a40000&#34;&gt;$&amp;lt;IF:&lt;/span&gt;       &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# 第三层开始&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#a40000&#34;&gt;$&amp;lt;CONFIG:Profile&amp;gt;,${CMAKE_BINARY_DIR}/Profile,&lt;/span&gt;  &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# 第三层条件和结果&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;&lt;/span&gt;            &lt;span style=&#34;color:#a40000&#34;&gt;${CMAKE_BINARY_DIR}/Unknown&lt;/span&gt;  &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# 默认值&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;&lt;/span&gt;        &lt;span style=&#34;color:#a40000&#34;&gt;&amp;gt;&lt;/span&gt;  &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# 第三层结束&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#a40000&#34;&gt;&amp;gt;&lt;/span&gt;  &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# 第二层结束&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#a40000&#34;&gt;&amp;gt;&lt;/span&gt;  &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;# 第一层结束&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</description>
    </item>
  </channel>
</rss>
